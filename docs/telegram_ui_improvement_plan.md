# –ü–ª–∞–Ω –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è UX/UI —Ç–∞ —Ç–µ—Ö–Ω—ñ—á–Ω–æ—ó —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó (–æ—Ä—ñ—î–Ω—Ç–∏—Ä –Ω–∞ Telegram Web K / telegram-tt)

## 1) –©–æ –≤–∂–µ –∑–∞—Ä–∞–∑ –±–æ–ª–∏—Ç—å —É –ø–æ—Ç–æ—á–Ω—ñ–π —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

### –°–∞–π–¥–±–∞—Ä –Ω–∞ –º–æ–±—ñ–ª—å–Ω–æ–º—É
- –õ–æ–≥—ñ–∫–∞ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è/–∑–∞–∫—Ä–∏—Ç—Ç—è —Å–∞–π–¥–±–∞—Ä—É —Ä–æ–∑–∫–∏–¥–∞–Ω–∞ –º—ñ–∂ `toggleSidebar`, `loadChat`, `closeChat`, `resetResponsiveSidebarState`, —â–æ —É—Å–∫–ª–∞–¥–Ω—é—î –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É –ø—Ä–∏ —Ä–µ—Å–∞–π–∑–∞—Ö/–∂–µ—Å—Ç–∞—Ö/–Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó. 
- –ù–∞ –ø–ª–∞–Ω—à–µ—Ç—ñ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è –∑—Å—É–≤ –≤—Å—ñ—î—ó —á–∞—Ç-–æ–±–ª–∞—Å—Ç—ñ (`body.sidebar-open-tablet .chat-area { transform: translateX(220px); }`), —â–æ –≤—ñ–∑—É–∞–ª—å–Ω–æ ¬´–ª–∞–º–∞—î¬ª –º–æ–¥–µ–ª—å drawer-–º–µ–Ω—é —ñ –º–æ–∂–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Ñ–ª—ñ–∫–µ—Ä/–Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω—ñ —Å—Ç–∞–Ω–∏.
- –í HTML —î –æ–∫—Ä–µ–º–∞ –∫–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä–∏—Ç—Ç—è —Å–∞–π–¥–±–∞—Ä—É (`#sidebar-close-btn`), –∞–ª–µ –∑–∞—Ä–∞–∑ –≤–æ–Ω–∞ —Å—Ö–æ–≤–∞–Ω–∞ —ñ–Ω–ª–∞–π–Ω–æ–≤–∏–º —Å—Ç–∏–ª–µ–º —ñ —Ñ–∞–∫—Ç–∏—á–Ω–æ –Ω–µ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∞ –≤ responsive-flow.

### –†–µ–ø–ª–∞—ó (reply preview)
- –ë–ª–æ–∫ —Ä–µ–ø–ª–∞—é –±–µ—Ä–µ `replyMsg.plain_text` –±–µ–∑ –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó –¥–æ–≤–∂–∏–Ω–∏ –≤ JS, —ñ —Ö–æ—á CSS –º–∞—î `text-overflow: ellipsis`, –Ω–∞ –º–æ–±—ñ–ª—å–Ω–æ–º—É –¥–ª—è `.reply-name, .reply-text` —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ —É–≤—ñ–º–∫–Ω–µ–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—è (`white-space: normal`), —â–æ —Ä–æ–∑–¥—É–≤–∞—î –≤–∏—Å–æ—Ç—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å.
- –ß–µ—Ä–µ–∑ —Ü–µ –≤ –¥–æ–≤–≥–∏—Ö —Ü–∏—Ç–∞—Ç–∞—Ö —Ä–µ–ø–ª–∞–π ¬´–∑‚Äô—ó–¥–∞—î¬ª –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä —ñ –ø–æ–≥—ñ—Ä—à—É—î —Å–∫—Ä–æ–ª/—á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å.

## 2) –©–æ –≤–∞—Ä—Ç–æ –∑–∞–ø–æ–∑–∏—á–∏—Ç–∏ –∑ Telegram Web K / telegram-tt (–¥–∏–∑–∞–π–Ω + —Ç–µ—Ö–Ω—ñ–∫–∞)

> –ù–∏–∂—á–µ ‚Äî –Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è ¬´–ø—ñ–∫—Å–µ–ª—å-–≤-–ø—ñ–∫—Å–µ–ª—å¬ª, –∞ –ø—Ä–∞–∫—Ç–∏–∫–∏, —è–∫—ñ –¥–æ–±—Ä–µ –ø—Ä–∞—Ü—é—é—Ç—å —É –ø—Ä–æ–¥–∞–∫—à–Ω Telegram-–∫–ª—ñ—î–Ω—Ç–∞—Ö —ñ —Ä–µ–∞–ª—å–Ω–æ –≤–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ —É —Ü—å–æ–º—É –∫–æ–¥—ñ.

### A. –°–∞–π–¥–±–∞—Ä/–Ω–∞–≤—ñ–≥–∞—Ü—ñ—è (–∫—Ä–∏—Ç–∏—á–Ω–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç)
1. **–Ñ–¥–∏–Ω–∞ state-–º–∞—à–∏–Ω–∞ –¥–ª—è layout-—Ä–µ–∂–∏–º—ñ–≤**
   - –†–µ–∂–∏–º–∏: `desktop` / `tablet` / `mobile` + `sidebarOpen`.
   - –û–¥–∏–Ω –º–µ—Ç–æ–¥ `applyLayoutState()` –∑–∞–º—ñ—Å—Ç—å —Ä–æ–∑—Ä—ñ–∑–Ω–µ–Ω–∏—Ö `classList.toggle` –ø–æ –≤—Å—å–æ–º—É –∫–æ–¥—É.
2. **Drawer-over-content –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç—ñ —Ç–∞–∫ —Å–∞–º–æ, —è–∫ –Ω–∞ –º–æ–±—ñ–ª—å–Ω–æ–º—É**
   - –ü—Ä–∏–±—Ä–∞—Ç–∏ –∑—Å—É–≤ `.chat-area` –Ω–∞ tablet.
   - –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ overlay + drawer —ñ–∑ —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏–º z-index.
3. **–ñ–µ—Å—Ç–∏ –∑ edge-zone —Ç–∞ –ø–æ—Ä–æ–≥–∞–º–∏**
   - –í—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏ drawer —Ç—ñ–ª—å–∫–∏ –∑—ñ —Å—Ç–∞—Ä—Ç–æ–º –∂–µ—Å—Ç—É –≤ –ª—ñ–≤—ñ–π ¬´–≥–∞—Ä—è—á—ñ–π –∑–æ–Ω—ñ¬ª (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 20px).
   - –î–æ–¥–∞—Ç–∏ velocity/threshold –¥–ª—è —Å—Ç–∞–±—ñ–ª—å–Ω–æ–≥–æ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è/–∑–∞–∫—Ä–∏—Ç—Ç—è (–±–µ–∑ –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —Å–ø—Ä–∞—Ü—å–æ–≤—É–≤–∞–Ω—å).
4. **Scroll lock —è–∫ —É –º–µ—Å–µ–Ω–¥–∂–µ—Ä–∞—Ö**
   - –ü—Ä–∏ –≤—ñ–¥–∫—Ä–∏—Ç–æ–º—É —Å–∞–π–¥–±–∞—Ä—ñ –±–ª–æ–∫—É–≤–∞—Ç–∏ scroll —Ñ–æ–Ω—É –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ (body + inert/pointer-events –¥–ª—è —Ñ–æ–Ω—É).
5. **Focus management —Ç–∞ accessibility**
   - Escape –∑–∞–∫—Ä–∏–≤–∞—î drawer.
   - Focus trap –≤ —Å–∞–π–¥–±–∞—Ä—ñ –ø—Ä–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ.
   - `aria-expanded`, `aria-controls` –¥–ª—è –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é.

### B. –°–ø–∏—Å–æ–∫ —á–∞—Ç—ñ–≤ (sidebar UX)
1. **–í—ñ—Ä—Ç—É–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–ø–∏—Å–∫—É —á–∞—Ç—ñ–≤ (–∑–∞ –ø–æ—Ç—Ä–µ–±–∏)**
   - –Ø–∫—â–æ —á–∞—Ç—ñ–≤ –±–∞–≥–∞—Ç–æ, —Ä–µ–Ω–¥–µ—Ä–∏—Ç–∏ –ª–∏—à–µ –≤–∏–¥–∏–º—ñ –µ–ª–µ–º–µ–Ω—Ç–∏.
2. **–°–∫–µ–ª–µ—Ç–æ–Ω/–ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ**
   - –ù–µ –ø–æ—Ä–æ–∂–Ω—ñ–π —Å–ø–∏—Å–æ–∫, –∞ skeleton items.
3. **Sticky header —É —Å–∞–π–¥–±–∞—Ä—ñ**
   - –ü–æ—à—É–∫ —ñ –ø–µ—Ä–µ–º–∏–∫–∞—á global search –º–∞—é—Ç—å –∑–∞–ª–∏—à–∞—Ç–∏—Å—è –∑–≤–µ—Ä—Ö—É –ø—Ä–∏ —Å–∫—Ä–æ–ª—ñ.
4. **–Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ/–ø—Ä–µ–≤‚Äô—é**
   - –î–æ–¥–∞—Ç–∏ –∫–æ—Ä–æ—Ç–∫–∏–π –ø—Ä–µ–≤‚Äô—é-—Ç–µ–∫—Å—Ç –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –∞ –Ω–µ –ª–∏—à–µ `message_count`.

### C. –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è/—Ä–µ–ø–ª–∞—ó (–≤–∞—à –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –∑–∞–ø–∏—Ç)
1. **–û–±—Ä—ñ–∑–∞—Ç–∏ —Ç–µ–∫—Å—Ç —Ü–∏—Ç–æ–≤–∞–Ω–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ JS (–æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ)**
   - –†–æ–±–∏—Ç–∏ truncation –Ω–∞ –µ—Ç–∞–ø—ñ —Ä–µ–Ω–¥–µ—Ä—É, –∞ –Ω–µ –ø–æ–∫–ª–∞–¥–∞—Ç–∏—Å—è —Ç—ñ–ª—å–∫–∏ –Ω–∞ CSS.
   - –õ—ñ–º—ñ—Ç –¥–ª—è —Ä–µ–ø–ª–∞—é: –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 80 —Å–∏–º–≤–æ–ª—ñ–≤ desktop / 56 mobile.
2. **–ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è whitespace + one-line preview**
   - `\s+ -> ' '` —ñ –æ–±—Ä—ñ–∑–∞–Ω–Ω—è –ø—Ä–æ–±—ñ–ª—ñ–≤ –Ω–∞ –∫—Ä–∞—è—Ö.
3. **–°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –ø—Ä–µ—Ñ—ñ–∫—Å–∏ –¥–ª—è –Ω–µ-—Ç–µ–∫—Å—Ç–æ–≤–∏—Ö —Ä–µ–ø–ª–∞—ó–≤**
   - –§–æ—Ç–æ: `üì∑ –§–æ—Ç–æ`, –í—ñ–¥–µ–æ: `üé¨ –í—ñ–¥–µ–æ`, –î–æ–∫—É–º–µ–Ω—Ç: `üìé –§–∞–π–ª`, –°—Ç—ñ–∫–µ—Ä: `üôÇ –°—Ç—ñ–∫–µ—Ä`.
4. **–í—ñ–¥–Ω–æ–≤–∏—Ç–∏ ellipsis –Ω–∞ –º–æ–±—ñ–ª—å–Ω–æ–º—É**
   - –î–ª—è `.reply-text` –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ `white-space: nowrap` –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö.
5. **–ö–ª—ñ–∫ –ø–æ —Ä–µ–ø–ª–∞—é: highlight + jump**
   - –ü—ñ—Å–ª—è `scrollToMessage` –∫–æ—Ä–æ—Ç–∫–æ –ø—ñ–¥—Å–≤—ñ—Ç–∏—Ç–∏ target-message (–∞–Ω—ñ–º–∞—Ü—ñ—è 1‚Äì1.5s).

### D. –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
1. **IntersectionObserver –¥–ª—è —á–∞–Ω–∫—ñ–≤ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å**
   - –õ—ñ–Ω–∏–≤–µ –¥–æ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è chunk –ø—Ä–∏ –Ω–∞–±–ª–∏–∂–µ–Ω–Ω—ñ –¥–æ –∫—Ä–∞—é —Å–ø–∏—Å–∫—É.
2. **–ö–µ—à –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ —á–∞—Ç—É**
   - MRU-–∫–µ—à 1‚Äì2 —á–∞—Ç—ñ–≤, —â–æ–± ¬´–Ω–∞–∑–∞–¥¬ª –≤—ñ–¥–∫—Ä–∏–≤–∞–≤—Å—è –º–∏—Ç—Ç—î–≤–æ.
3. **–î–µ–≥—Ä–∞–¥–∞—Ü—ñ—è –≤–∞–∂–∫–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤ –Ω–∞ low-end mobile**
   - –ú–µ–Ω—à–µ box-shadow/transition –ø—Ä–∏ `prefers-reduced-motion`.

### E. –ü–æ—à—É–∫ —ñ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è
1. **–£–Ω—ñ—Ñ—ñ–∫—É–≤–∞—Ç–∏ –≥–ª–æ–±–∞–ª—å–Ω–∏–π/–ª–æ–∫–∞–ª—å–Ω–∏–π –ø–æ—à—É–∫**
   - –Ñ–¥–∏–Ω–∞ –ø–∞–Ω–µ–ª—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ + –∫–ª–∞–≤—ñ—à—ñ next/prev.
2. **–ü–æ—à—É–∫ –∑ debounce + cancel previous**
   - –ü—Ä–∏ —à–≤–∏–¥–∫–æ–º—É –≤–≤–æ–¥—ñ —Å–∫–∞—Å–æ–≤—É–≤–∞—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ async-–ø–æ—à—É–∫–∏.
3. **–ü—ñ–¥—Å–≤—ñ—Ç–∫–∞ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ + –ø–æ–∑–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è —É —á–∞—Ç—ñ**
   - –ü—ñ—Å–ª—è –ø–µ—Ä–µ—Ö–æ–¥—É –¥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç ¬±1 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.

### F. –í—ñ–∑—É–∞–ª—å–Ω–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å (—Ç–µ–ª–µ–≥—Ä–∞–º-–ø–æ–¥—ñ–±–Ω–∏–π look)
1. **–Ñ–¥–∏–Ω–∏–π spacing scale (4/8/12/16)**
2. **–£–Ω—ñ—Ñ—ñ–∫—É–≤–∞—Ç–∏ —Ä–∞–¥—ñ—É—Å–∏ –≤ bubble/reply/media**
3. **–°—Ç–∞–±—ñ–ª—å–Ω–∞ —Ç–∏–ø–æ–≥—Ä–∞—Ñ—ñ–∫–∞ –Ω–∞ –º–æ–±—ñ–ª—å–Ω–æ–º—É**
4. **Safe-area –¥–ª—è iOS (top/bottom inset) –Ω–µ –ª–∏—à–µ —É footer**

## 3) –Ø–∫ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤–∞—à –∑–∞–ø–∏—Ç –ø—Ä–æ –æ–±—Ä—ñ–∑–∞–Ω–Ω—è —Ä–µ–ø–ª–∞—ó–≤ (–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ)

### JS-–ø—ñ–¥—Ö—ñ–¥
–î–æ–¥–∞—Ç–∏ helper:
- `normalizeText(text)`
- `truncateForReply(text, maxLen)`
- `buildReplySnippet(replyMsg, maxLen)`

–ü—Ä–∞–≤–∏–ª–∞:
1. —è–∫—â–æ —î `plain_text` ‚Üí normalize + truncate.
2. —è–∫—â–æ —Ç–µ–∫—Å—Ç –ø–æ—Ä–æ–∂–Ω—ñ–π, –∞–ª–µ —î attachment ‚Üí –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –µ–º–æ–¥–∑—ñ-–º—ñ—Ç–∫—É —Ç–∏–ø—É –º–µ–¥—ñ–∞.
3. —è–∫—â–æ –¥–æ–≤–∂–∏–Ω–∞ > `maxLen`, —Ä–æ–±–∏—Ç–∏ `slice(0, maxLen - 3) + '...'`.

### CSS-–ø—ñ–¥—Ö—ñ–¥
–î–ª—è `.reply-text` –≤—Å—é–¥–∏ —Ç—Ä–∏–º–∞—Ç–∏:
- `white-space: nowrap;`
- `overflow: hidden;`
- `text-overflow: ellipsis;`

–ù–∞ –º–æ–±—ñ–ª—å–Ω–æ–º—É **–Ω–µ** –ø–µ—Ä–µ–º–∏–∫–∞—Ç–∏ `.reply-text` —É `white-space: normal`.

## 4) –ü—Ä—ñ–æ—Ä–∏—Ç–µ–∑–æ–≤–∞–Ω–∏–π backlog (—â–æ —Ä–æ–±–∏—Ç–∏ –ø–µ—Ä—à–∏–º)

### P0 (–æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ, 1‚Äì2 —ñ—Ç–µ—Ä–∞—Ü—ñ—ó)
1. –†–µ—Ñ–∞–∫—Ç–æ—Ä responsive sidebar —É —î–¥–∏–Ω—É state-–º–æ–¥–µ–ª—å.
2. –ü—Ä–∏–±—Ä–∞—Ç–∏ tablet push (`translateX`) —ñ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ overlay drawer.
3. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ JS-truncation –¥–ª—è reply preview + media labels.
4. –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ one-line reply preview –Ω–∞ –º–æ–±—ñ–ª—å–Ω–æ–º—É.
5. –î–æ–¥–∞—Ç–∏ —Å—Ç–∞–±—ñ–ª—å–Ω–∏–π swipe –∑ edge-threshold.

### P1
1. Sticky header + skeletons —É sidebar.
2. Highlight target –ø—ñ—Å–ª—è jump –Ω–∞ —Ä–µ–ø–ª–∞–π.
3. –ü–æ–ª—ñ—Ä—É–≤–∞–Ω–Ω—è safe-area —Ç–∞ touch targets.

### P2
1. –í—ñ—Ä—Ç—É–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–ø–∏—Å–∫—ñ–≤.
2. –ë—ñ–ª—å—à –ø—Ä–æ—Å—É–Ω—É—Ç–∏–π –ø–æ—à—É–∫ –∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º.
3. –ö–µ—à—É–≤–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö —á–∞—Ç—ñ–≤.

## 5) –ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–∏–π–º–∞–Ω–Ω—è (Definition of Done)

1. **Mobile sidebar UX**
   - –í—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è/–∑–∞–∫—Ä–∏–≤–∞—î—Ç—å—Å—è –æ–¥–Ω–∞–∫–æ–≤–æ —É –≤—Å—ñ—Ö –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö (—Ö–µ—à-–Ω–∞–≤—ñ–≥–∞—Ü—ñ—è, back, resize).
   - –ù–µ–º–∞—î –≤–∏–ø–∞–¥–∫–æ–≤–æ–≥–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –∑—Å—É–≤—É chat-area –Ω–∞ tablet.
2. **Reply preview**
   - –ë—É–¥—å-—è–∫–∏–π reply –∑–∞–π–º–∞—î –Ω–µ –±—ñ–ª—å—à–µ 1 —Ä—è–¥–∫–∞ –¥–ª—è —Ç–µ–∫—Å—Ç—É preview.
   - –î–æ–≤–≥—ñ —Ç–µ–∫—Å—Ç–∏ –º–∞—é—Ç—å —Ñ–æ—Ä–º–∞—Ç `...` –Ω–∞–ø—Ä–∏–∫—ñ–Ω—Ü—ñ.
3. **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å**
   - –ë–µ–∑ —Ä–∏–≤–∫—ñ–≤ –ø—Ä–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ drawer —Ç–∞ —Å–∫—Ä–æ–ª—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –Ω–∞ mid-range Android.

## 6) –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —Ç–µ—Ö–Ω—ñ—á–Ω–∏–π –ø–ª–∞–Ω —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—ó –ø–æ —Ñ–∞–π–ª–∞—Ö

1. `site/js/app.js`
   - –î–æ–¥–∞—Ç–∏ `getViewportMode()`, `setSidebarOpen(isOpen)`, `applyLayoutState()`.
   - –ó–∞–º—ñ–Ω–∏—Ç–∏ —Ä—É—á–Ω—ñ toggles —É `toggleSidebar/loadChat/closeChat/resetResponsiveSidebarState` –Ω–∞ —î–¥–∏–Ω—ñ –≤–∏–∫–ª–∏–∫–∏.
   - –î–æ–¥–∞—Ç–∏ `buildReplySnippet()` —É —Ä–µ–Ω–¥–µ—Ä—ñ–Ω–≥ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å.

2. `site/css/style.css`
   - –£–Ω—ñ—Ñ—ñ–∫—É–≤–∞—Ç–∏ drawer-—Å—Ç–∏–ª—ñ –¥–ª—è mobile/tablet.
   - –ü—Ä–∏–±—Ä–∞—Ç–∏ `body.sidebar-open-tablet .chat-area { transform: translateX(220px); }`.
   - –ó–∞—Ñ—ñ–∫—Å—É–≤–∞—Ç–∏ one-line reply text –¥–ª—è mobile.

3. `site/index.html`
   - –î–æ–¥–∞—Ç–∏ a11y-–∞—Ç—Ä–∏–±—É—Ç–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –º–µ–Ω—é/–∑–∞–∫—Ä–∏—Ç—Ç—è.
   - –ü—Ä–∏–±—Ä–∞—Ç–∏ ¬´–º–µ—Ä—Ç–≤–∏–π¬ª close-button –∞–±–æ –∞–∫—Ç–∏–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ –∫–æ—Ä–µ–∫—Ç–Ω–æ.

---

–Ø–∫—â–æ –π—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–∞–≥–º–∞—Ç–∏—á–Ω–æ: –ø–æ—á–∞—Ç–∏ –∑ P0. –ù–∞–π–±—ñ–ª—å—à–∏–π –µ—Ñ–µ–∫—Ç –¥–ª—è –≤–∞—Å –∑–∞—Ä–∞–∑ –¥–∞–¥—É—Ç—å **—É–Ω—ñ—Ñ—ñ–∫–∞—Ü—ñ—è —Å–∞–π–¥–±–∞—Ä-—Å—Ç–∞–Ω—É** + **–æ–±—Ä—ñ–∑–∞–Ω–Ω—è reply —É JS** + **–æ–¥–Ω–æ—Ä—è–¥–∫–æ–≤–∏–π —Ä–µ–ø–ª–∞–π –Ω–∞ –º–æ–±—ñ–ª—å–Ω–æ–º—É**.
